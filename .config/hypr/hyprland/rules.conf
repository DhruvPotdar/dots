
# =========================================================
# Window Rules — NEW SYNTAX (git ≥ 2026-01-28)
# =========================================================

# ───────── Global / context ─────────

# Disable blur for xwayland context menus
windowrule = no_blur on, match:class ^()$, match:title ^()$

# ───────── Floating dialogs ─────────

windowrule = center on, float on, match:title ^(Open File)(.*)$
windowrule = center on, float on, match:title ^(Select a File)(.*)$
windowrule = center on, float on, match:title ^(Choose wallpaper)(.*)$
windowrule = size 60% 65%, match:title ^(Choose wallpaper)(.*)$
windowrule = center on, float on, match:title ^(Open Folder)(.*)$
windowrule = center on, float on, match:title ^(Save As)(.*)$
windowrule = center on, float on, match:title ^(Library)(.*)$
windowrule = center on, float on, match:title ^(File Upload)(.*)$
windowrule = center on, float on, match:title ^(.*)(wants to save)$
windowrule = center on, float on, match:title ^(.*)(wants to open)$

windowrule = float on, match:class ^(blueberry\.py)$
windowrule = float on, match:class ^(guifetch)$
windowrule = float on, match:class ^(pavucontrol)$
windowrule = size 45%, center on, match:class ^(pavucontrol)$

windowrule = float on, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = size 45%, center on, match:class ^(org.pulseaudio.pavucontrol)$

windowrule = float on, match:class ^(nm-connection-editor)$
windowrule = size 45%, center on, match:class ^(nm-connection-editor)$

windowrule = float on, match:class .*plasmawindowed.*
windowrule = float on, match:class kcm_.*
windowrule = float on, match:class .*bluedevilwizard
windowrule = float on, match:title .*Welcome
windowrule = float on, match:title ^(illogical-impulse Settings)$
windowrule = float on, match:title .*Shell conflicts.*
windowrule = float on, match:class org.freedesktop.impl.portal.desktop.kde
windowrule = size 60% 65%, match:class org.freedesktop.impl.portal.desktop.kde

windowrule = float on, match:class ^(Zotero)$
windowrule = size 45%, match:class ^(Zotero)$

# ───────── Move / suppress nuisance windows ─────────

windowrule = float on, no_initial_focus on, move 999999 999999, match:class ^(plasma-changeicons)$
windowrule = move 40 80, match:title ^(Copying — Dolphin)$

# ───────── Forced tiling ─────────

windowrule = tile on, match:class ^dev\.warp\.Warp$

# ───────── Picture-in-Picture ─────────

windowrule = float on, pin on, match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = keep_aspect_ratio on, match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = move 73% 72%, match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = size 25%, match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

# ───────── Tearing / immediate ─────────

windowrule = immediate on, match:title .*\.exe
windowrule = immediate on, match:title .*minecraft.*
windowrule = immediate on, match:class ^(steam_app).*

# ───────── JetBrains IDE focus fix ─────────

windowrule = no_initial_focus on, match:class ^jetbrains-.*$, match:float true, match:title ^$|^\s$|^win\d+$

# ───────── No shadow for tiled windows ─────────

windowrule = no_shadow on, match:float false


# =========================================================
# Workspace Rules
# =========================================================

workspace = special:special, gapsout:30


# =========================================================
# Layer Rules (disabled, ready for use)
# =========================================================

# layerrule = blur on, match:namespace waybar
# layerrule = no_anim on, match:namespace selection
# layerrule = no_anim on, match:namespace overview
# layerrule = no_anim on, match:namespace anyrun
# layerrule = blur on, match:namespace launcher
# layerrule = ignore_alpha 0.5, match:namespace launcher
# layerrule = blur on, match:namespace notifications
# layerrule = ignore_alpha 0.69, match:namespace notifications
# layerrule = blur on, match:namespace logout_dialog
